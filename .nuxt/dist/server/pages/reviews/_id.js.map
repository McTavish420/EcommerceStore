{"version":3,"file":"pages/reviews/_id.js","sources":["webpack:///./pages/reviews/_id.vue?b932","webpack:///./pages/reviews/_id.vue","webpack:///./pages/reviews/_id.vue?f3d0","webpack:///./pages/reviews/_id.vue?af78"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_vm._ssrNode(\"<div class=\\\"reviewPage mt-3\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"container-fluid c-section\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"row\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-sm-2\\\"></div> \"),_vm._ssrNode(\"<div class=\\\"col-sm-8\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"a-spacing-top-medium\\\">\",\"</div>\",[_vm._ssrNode(\"<h2 class=\\\"a-spacing-base\\\"><b>Create Review</b> for <b>\"+_vm._ssrEscape(_vm._s(_vm.product.title))+\"</b></h2> <div class=\\\"row\\\"><div class=\\\"col-md-4 col-sm-3 col-3\\\"><img\"+(_vm._ssrAttr(\"src\",_vm.product.photo))+\" style=\\\"width: 100%; border-radius: 5px\\\"></div></div> <div class=\\\"a-spacing-top-medium\\\"></div> <hr> <h2 class=\\\"a-spacing-base\\\">Overall Rating</h2> \"),_vm._ssrNode(\"<div class=\\\"a-row\\\">\",\"</div>\",[_c('client-only',{attrs:{\"placeholder\":\"loading...\"}},[_c('star-rating',{model:{value:(_vm.rating),callback:function ($$v) {_vm.rating=$$v},expression:\"rating\"}})],1)],1),_vm._ssrNode(\" <div class=\\\"a-row a-spacing-top-large\\\"><h2>Add photo or video</h2> <p style=\\\"font-size: 14px; font-weight: 700;\\\">Shoppers find images and videos more helpful than text alone.</p></div> <div class=\\\"a-row a-spacing-top-medium\\\"><label class=\\\"choosefile-button\\\"><i class=\\\"fal fa-plus\\\"></i> <input type=\\\"file\\\"></label> <p>\"+_vm._ssrEscape(_vm._s(_vm.fileName))+\"</p></div> <div class=\\\"a-spacing-top-large\\\"></div> <hr> <div class=\\\"headline a-spacing-large\\\"><h2 class=\\\"a-spacing-base\\\">Add a headline</h2> <input type=\\\"text\\\" placeholder=\\\"What's most important to know?\\\"\"+(_vm._ssrAttr(\"value\",(_vm.headline)))+\" class=\\\"a-input-text\\\" style=\\\"width: 70%;\\\"></div> <div class=\\\"a-spacing-base\\\"><h2 class=\\\"a-spacing-base\\\">Write your review</h2> <textarea placeholder=\\\"What do you like or dislike? What did you see this product for?\\\" style=\\\"height:6em; width: 100%; padding: 10px\\\">\"+_vm._ssrEscape(_vm._s(_vm.body))+\"</textarea></div>\")],2),_vm._ssrNode(\" <br> <br> <hr> <div class=\\\"a-spacing-top-medium\\\"><p style=\\\"font-size: 14px; font-weight: 700;\\\">This is how you'll appear to other customers:</p> <div class=\\\"media a-spacing-top-large\\\"><div class=\\\"media-left\\\"><img src=\\\"/img/avatar.png\\\" class=\\\"img-fluid\\\" style=\\\"width: 50px;\\\"></div> <div class=\\\"media-body pl-3 pt-2\\\"><input type=\\\"text\\\" disabled=\\\"disabled\\\"\"+(_vm._ssrAttr(\"value\",_vm.$auth.$state.user.userName))+\" class=\\\"a-input-text\\\" style=\\\"width: 100%;\\\"></div></div></div> <div class=\\\"a-row a-spacing-top-medium\\\"><span class=\\\"a-color-tertiary\\\">Don't worry, you can always change this on your profile</span></div> <div class=\\\"a-row text-right a-spacing-top-large\\\"><span class=\\\"a-button-register\\\"><span class=\\\"a-button-inner\\\"><span class=\\\"a-button-text\\\">Submit</span></span></span></div>\")],2),_vm._ssrNode(\" <div class=\\\"col-sm-2\\\"></div>\")],2),_vm._ssrNode(\" <div class=\\\"a-spacing-large pb-5\\\"></div> <hr>\")],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst rating = process.client ? require('vue-rate-it') : {}\nexport default {\n  middleware: 'auth',\n  components: {\n    StarRating: rating.StarRating\n  },\n  async asyncData ({ $axios, params }) {\n    try {\n      let response = await $axios.$get(`${process.env.DEV_BACKEND}/api/products/${params.id}`)\n\n      return {\n        product: response.product\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  data () {\n    return {\n      rating: 0,\n      body: '',\n      headline: '',\n      selectedFile: null,\n      fileName: null\n    }\n  },\n\n  methods: {\n    onSelectedFile (event) {\n            this.selectedFile = event.target.files[0]\n            this.fileName = event.target.files[0].name\n    },\n\n    async onAddReview () {\n      try {\n        let data = new FormData()\n        data.append('headline', this.headline)\n        data.append('body', this.body)\n        data.append('rating', this.rating)\n        data.append('photo', this.selectedFile, this.selectedFile.name)\n\n        let response = await this.$axios.$post(`${process.env.DEV_BACKEND}/api/review/${this.$route.params.id}`, data)\n\n        if (response.success) {\n          this.$router.push(`/products/${this.$route.params.id}`)\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_id.vue?vue&type=template&id=6bd892be&\"\nimport script from \"./_id.vue?vue&type=script&lang=js&\"\nexport * from \"./_id.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"f896578e\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AA3BA;;AC3GA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}